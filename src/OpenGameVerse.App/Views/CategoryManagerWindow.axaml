<suki:SukiWindow xmlns="https://github.com/avaloniaui"
                 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                 xmlns:vm="using:OpenGameVerse.App.ViewModels"
                 xmlns:suki="clr-namespace:SukiUI.Controls;assembly=SukiUI"
                 x:Class="OpenGameVerse.App.Views.CategoryManagerWindow"
                 x:DataType="vm:CategoryManagerViewModel"
                 Title="Manage Categories"
                 Width="460"
                 Height="560"
                 WindowStartupLocation="CenterOwner"
                 CanResize="True">

    <Design.DataContext>
        <vm:CategoryManagerViewModel />
    </Design.DataContext>
    <suki:SukiMainHost>
        <Grid RowDefinitions="Auto,*,Auto" RowSpacing="16" Margin="20">
            <Border Grid.Row="0" CornerRadius="14" Padding="12">
                <Grid ColumnDefinitions="*,Auto" ColumnSpacing="12">
                    <StackPanel Orientation="Horizontal" Spacing="10">
                        <Button Content="Add Category"
                                IsEnabled="{Binding !IsLoading}"
                                Command="{Binding AddCategoryCommand}" />
                        <Button Content="Delete"
                                Width="90"
                                Command="{Binding DeleteCategoryCommand}" />
                    </StackPanel>
                    <ProgressBar Grid.Column="1"
                                 Width="60"
                                 Height="4"
                                 IsIndeterminate="True"
                                 IsVisible="{Binding IsLoading}"
                                 VerticalAlignment="Center" />
                </Grid>
            </Border>

            <Border Grid.Row="1">
                <ScrollViewer>
                    <ListBox ItemsSource="{Binding Categories}"
                             SelectedItem="{Binding SelectedCategory}"
                             Padding="12"
                             SelectionMode="Single">
                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <Border Padding="12"
                                        Margin="0,0,0,10"

                                        CornerRadius="10">
                                    <Grid ColumnDefinitions="*,Auto">
                                        <TextBlock Grid.Column="0"
                                                   Text="{Binding Name}"
                                                   VerticalAlignment="Center" />
                                        <TextBlock Grid.Column="1"
                                                   Text="{Binding Count, StringFormat='({0} games)'}"
                                                   FontSize="11"
                                                   VerticalAlignment="Center"
                                                   Margin="10,0,0,0" />
                                    </Grid>
                                </Border>
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>
                </ScrollViewer>
            </Border>

            <Border Grid.Row="2">
                <Button Content="Close"
                        HorizontalAlignment="Right"
                        Width="90"
                        Command="{Binding CloseCommand}"
                        CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=Window}}" />
            </Border>
        </Grid>
    </suki:SukiMainHost>
</suki:SukiWindow>